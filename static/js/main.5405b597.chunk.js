(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],[,,,,,,,,,,,,function(t,e){},,,,,,,,,,,,,function(t,e){},,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,,,function(t,e,n){var s={"./001-dracula.svg":46,"./002-witch.svg":47,"./003-jack-o-lantern.svg":48,"./004-werewolf.svg":49,"./005-zombie.svg":50,"./006-frankenstein.svg":51,"./007-mummy.svg":52,"./008-pirate.svg":53,"./009-wizard.svg":54,"./010-ghost.svg":55,"./011-prisoner.svg":56,"./012-ninja.svg":57,"./013-clown.svg":58,"./014-reaper.svg":59,"./015-elf.svg":60,"./016-devil.svg":61,"./017-angel.svg":62,"./018-gnome.svg":63,"./019-mermaid.svg":64,"./020-robot.svg":65,"./021-king.svg":66,"./022-queen.svg":67,"./023-policeman.svg":68,"./024-nurse.svg":69,"./025-viking.svg":70,"./026-cat.svg":71,"./027-knight.svg":72,"./028-fairy.svg":73,"./029-indian.svg":74,"./030-little-red-riding-hood.svg":75,"./031-bigfoot.svg":76,"./032-gladiator.svg":77,"./033-serial-killer.svg":78,"./034-firefighter.svg":79,"./035-yeti.svg":80,"./036-phantom-of-the-opera.svg":81,"./037-sheriff.svg":82,"./038-astronaut.svg":83,"./039-bandit.svg":84,"./040-magician.svg":85,"./041-alien.svg":86,"./042-thief.svg":87,"./043-wrestler.svg":88,"./044-prisoner-1.svg":89,"./045-clown-1.svg":90,"./046-bunny.svg":91,"./047-mime.svg":92,"./048-caveman.svg":93,"./049-catwoman.svg":94,"./050-glasses.svg":95};function a(t){var e=c(t);return n(e)}function c(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=c,t.exports=a,a.id=45},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/001-dracula.1d4afc9f.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/002-witch.8e46b269.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/003-jack-o-lantern.f757f7fe.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/004-werewolf.aeb05c38.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/005-zombie.c3a82a9b.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/006-frankenstein.746105bf.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/007-mummy.6b148fd2.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/008-pirate.a998da0c.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/009-wizard.4ca85119.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/010-ghost.8a96f539.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/011-prisoner.526f77c7.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/012-ninja.9f6768e8.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/013-clown.c0c59854.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/014-reaper.bbc24827.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/015-elf.7ec182d1.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/016-devil.d245b631.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/017-angel.b2fd8bf3.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/018-gnome.7dd6bf2a.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/019-mermaid.5e9778b1.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/020-robot.cf4f5f37.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/021-king.fe5762cc.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/022-queen.890e89aa.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/023-policeman.026505ba.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/024-nurse.8741f897.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/025-viking.5da11ee3.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/026-cat.beda0f7a.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/027-knight.f048a287.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/028-fairy.56ff89e6.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/029-indian.f806bb5f.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/030-little-red-riding-hood.22b41554.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/031-bigfoot.601ef1d3.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/032-gladiator.97f1f5f9.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/033-serial-killer.ea84f2df.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/034-firefighter.fa0dabbb.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/035-yeti.e6f96d3c.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/036-phantom-of-the-opera.0002a46b.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/037-sheriff.b02622a9.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/038-astronaut.91005bdd.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/039-bandit.a0e88a95.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/040-magician.f75c0d66.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/041-alien.1bc1fd48.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/042-thief.e9ea51b0.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/043-wrestler.66a7f8fd.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/044-prisoner-1.3e261625.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/045-clown-1.ede8679c.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/046-bunny.df557ff3.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/047-mime.351542bb.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/048-caveman.8a64a6e6.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/049-catwoman.318bc1c6.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/050-glasses.7e99d688.svg"},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var s=n(0),a=n(15),c=n.n(a),r=n(3),i=n(7),u=n.n(i),f=n(10),o=n(6),d=n(2),l=n(16),b=n.n(l),g=n(17),v=n.n(g),m=(n(39),n(11)),p=(n(40),n(41),n(1));var j=function(t){var e=t.name,n=t.img,a=t.points,c=t.style;return Object(s.useEffect)((function(){}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"User",style:c,children:Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("img",{src:n,alt:"",className:"profile-picture"}),Object(p.jsxs)("div",{className:"text-content",children:[Object(p.jsx)("div",{className:"name-text",id:"name",children:e}),a," Punkte"]})]})})})};var O=function(t){var e=t.users;return Object(s.useEffect)((function(){}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"UserList",children:e.map((function(t){return Object(s.createElement)(j,Object(m.a)(Object(m.a)({},t),{},{key:t.name}))}))})})};var h=n(43);var w=function(){var t=Object(s.useState)({1:"Schachmatt in einem Zug!",2:"Schachmatt in zwei Z\xfcgen!",3:"Schachmatt in drei Z\xfcgen!",4:"Schachmatt in vier Z\xfcgen!",5:"Schachmatt in f\xfcnf Z\xfcgen!",6:"Finde den besten Zug!"}),e=Object(d.a)(t,1)[0],a=Object(s.useState)(0),c=Object(d.a)(a,2),i=c[0],l=c[1],g=Object(s.useState)([]),m=Object(d.a)(g,2),j=m[0],w=m[1],k=Object(s.useState)(new h),x=Object(d.a)(k,1)[0],y=Object(s.useState)(new h),S=Object(d.a)(y,1)[0],E=Object(s.useState)(""),N=Object(d.a)(E,2),C=N[0],z=N[1],L=Object(s.useState)(null),Z=Object(d.a)(L,2),M=Z[0],R=Z[1],q=Object(s.useState)("white"),U=Object(d.a)(q,2),D=U[0],F=U[1],T=Object(s.useState)({}),I=Object(d.a)(T,2),_=I[0],B=I[1],J=Object(s.useState)(10),P=Object(d.a)(J,2),W=P[0],A=P[1],G=Object(s.useState)(""),H=Object(d.a)(G,2),K=H[0],Q=H[1],V=Object(s.useState)(0),X=Object(d.a)(V,2),Y=X[0],$=X[1],tt=Object(s.useState)(0),et=Object(d.a)(tt,2),nt=et[0],st=et[1],at=Object(s.useState)(!0),ct=Object(d.a)(at,2),rt=ct[0],it=ct[1],ut=Object(s.useRef)(K),ft=Object(s.useRef)(W),ot=Object(s.useRef)(i),dt=Object(s.useRef)(j),lt=Object(s.useRef)(M),bt=Object(s.useRef)(nt);Object(s.useEffect)((function(){ot.current=i}),[i]),Object(s.useEffect)((function(){ut.current=K}),[K]),Object(s.useEffect)((function(){ft.current=W}),[W]),Object(s.useEffect)((function(){dt.current=j}),[j]),Object(s.useEffect)((function(){lt.current=M}),[M]),Object(s.useEffect)((function(){bt.current=nt}),[nt]);var gt=function(){z(x.fen())},vt=function(t){setTimeout((function(){x.move(t),function(t){var e;t&&B((e={},Object(o.a)(e,t.from,{backgroundColor:"rgba(22, 164, 138, 0.5)"}),Object(o.a)(e,t.to,{backgroundColor:"rgba(22, 164, 138, 0.5)"}),e))}(t),A((function(t){return t+1})),S.load(x.fen()),gt()}),500)},mt=function(){var t=Object(f.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0!==ot.current?ot.current:Math.floor(5*Math.random())+1,t.t0=R,t.next=4,fetch("https://api.choozn.dev:2053/chess?m="+e);case 4:return t.next=6,t.sent.json();case 6:t.t1=t.sent,(0,t.t0)(t.t1),$((function(){return e}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),pt=function(t){return{from:t.substring(0,2).toLowerCase(),to:t.substring(2,4).toLowerCase(),promotion:["n","b","r","q","k"].includes(t.substring(4,5).toLowerCase())?t.substring(4,5).toLowerCase():"q"}},jt=function(t,e){if(t&&!Object(r.a)(dt.current).map((function(t){return t.name})).includes(t)){var s=function(){var t=n(45),e=t.keys()[Math.floor(Math.random()*t.keys().length)];return t(e).default}();w(function(t,e){var n=t;return n.push(e),n}(Object(r.a)(dt.current),{name:t,img:s,points:e||0,style:{}}))}},Ot=function(t,e){if(t){var n=Object(r.a)(dt.current).map((function(t){return t.name})).indexOf(t);if(Object(r.a)(dt.current)[n]&&(Object(r.a)(dt.current)[n].points>=bt.current-1&&0!==bt.current&&w((function(t){return t[n].style={background:"rgba(0, 255, 160, 0.42) none repeat scroll 0% 0%"},t})),Object(r.a)(dt.current)[n].points>=bt.current&&0!==bt.current))return void w((function(t){return t[n].style={background:"rgba(0, 255, 160, 0.42) none repeat scroll 0% 0%"},t}));if(x.moves().map((function(t){return t.replace(/[#]|[+]+/g,"")})).includes(e)&&t)if(x.move(e),e!==ut.current&&!x.game_over()||ft.current%2===0)jt(t),x.undo();else{var s=x.history({verbose:!0}),a=s[s.length-1];vt(a),function(t){if(Object(r.a)(dt.current).map((function(t){return t.name})).includes(t)){var e=Object(r.a)(dt.current).map((function(t){return t.name})).indexOf(t);w((function(t){var n=t;return n[e].points=n[e].points+1,n}))}else jt(t,1)}(t)}else jt(t)}};return Object(s.useEffect)((function(){var t;M&&(B({}),A(0),t=M.fen,x.load(t),S.load(t),F("w"===x.turn()?"black":"white"),gt())}),[M]),Object(s.useEffect)((function(){mt();var t=new URLSearchParams(window.location.search).get("c");t&&function(t){var e=new v.a.Client({connection:{secure:!0,reconnect:!0},channels:[t]});e.connect(),e.on("message",function(){var t=Object(f.a)(u.a.mark((function t(e,n,s,a){var c,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n["display-name"],!n.mod&&"mod"!==n["user-type"]&&e.slice(1)!==c&&"ch00zn"!==c){t.next=33;break}r=s.split(" "),t.t0=r[0],t.next="!reload"===t.t0||"!skip"===t.t0?7:"!reset"===t.t0||"!restart"===t.t0?9:"!mode"===t.t0?12:"!hard-reset"===t.t0||"!new"===t.t0?23:"!rotation"===t.t0?25:"!cap"===t.t0?27:29;break;case 7:return mt(),t.abrupt("break",31);case 9:return w((function(t){return[]})),mt(),t.abrupt("break",31);case 12:if("string"!==typeof r[1]){t.next=20;break}t.t1=r[1],t.next="best"===t.t1?16:"random"===t.t1?18:20;break;case 16:return l(6),t.abrupt("break",20);case 18:return l(0),t.abrupt("break",20);case 20:return(i=Math.max(1,Math.min(parseInt(r[1]),5)))&&l(i),t.abrupt("break",31);case 23:return window.location.reload(),t.abrupt("break",31);case 25:return it((function(t){return!t})),t.abrupt("break",31);case 27:return st(parseInt(r[1])||0),t.abrupt("break",31);case 29:return Ot(c,s),t.abrupt("break",31);case 31:t.next=34;break;case 33:Ot(c,s);case 34:case"end":return t.stop()}}),t)})));return function(e,n,s,a){return t.apply(this,arguments)}}())}(t)}),[]),Object(s.useEffect)((function(){if(lt.current)if(lt.current.moves.length>W)if(W%2===0)setTimeout((function(){lt.current&&vt(pt(lt.current.moves[W]))}),0===W?1:1e3);else{S.move(pt(lt.current.moves[W]));var t=S.history()[0];t&&Q((function(){return t.replace(/[#]|[+]+/g,"")}))}else setTimeout((function(){mt()}),2500)}),[W]),Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("div",{className:"game",children:[Object(p.jsx)("h1",{children:e[Y]||"Loading..."}),Object(p.jsxs)("div",{className:"main",children:[Object(p.jsxs)("div",{className:"sidebar",id:"left",children:[Object(p.jsx)("h2",{children:"Spieler"}),Object(p.jsx)("hr",{}),Object(p.jsx)(O,{users:j.sort((function(t,e){return e.points-t.points}))?j:[]})]}),Object(p.jsx)("div",{className:"ChessBoardWrapper",children:Object(p.jsx)(b.a,{squareStyles:_,orientation:rt?D:"white",transitionDuration:400,width:700,allowDrag:function(){return!1},position:C})}),Object(p.jsxs)("div",{className:"sidebar",id:"right",children:[Object(p.jsx)("h2",{children:"Z\xfcge"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("h4",{children:["w"===x.turn()?"Wei\xdf":"Schwarz"," am Zug"]}),Object(p.jsx)("div",{className:"moves",children:x.moves().map((function(t){return Object(p.jsxs)("div",{children:["  ",t.replace(/[#]|[+]+/g,"")," "]})}))})]})]})]})})};n(96);c.a.render(Object(p.jsx)(w,{}),document.getElementById("root"))}],[[97,1,2]]]);
